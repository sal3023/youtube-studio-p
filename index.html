<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YouTube & Blogger Pro - Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„</title>
    
    <script src="https://apis.google.com/js/api.js"></script>
    <script async defer src="https://accounts.google.com/gsi/client"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Arial, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #667eea, #764ba2);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
        }
        
        h1 {
            color: #333;
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .subtitle {
            color: #666;
            font-size: 1.1rem;
        }
        
        .btn {
            display: inline-block;
            padding: 12px 30px;
            margin: 10px 5px;
            background: #4285f4;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .btn-youtube {
            background: #FF0000;
        }
        
        .btn-blogger {
            background: #FF6B00;
        }
        
        .btn-success {
            background: #4CAF50;
        }
        
        .status {
            padding: 15px;
            margin: 20px 0;
            border-radius: 10px;
            text-align: center;
            animation: slideIn 0.5s;
        }
        
        @keyframes slideIn {
            from { transform: translateY(-20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .status.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .status.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .status.info {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }
        
        .tabs {
            display: flex;
            justify-content: center;
            margin: 30px 0;
            border-bottom: 2px solid #e0e0e0;
        }
        
        .tab {
            padding: 15px 30px;
            background: none;
            border: none;
            font-size: 16px;
            font-weight: bold;
            color: #666;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }
        
        .tab.active {
            color: #FF0000;
        }
        
        .tab.active::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            right: 0;
            height: 3px;
            background: #FF0000;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
            animation: fadeIn 0.5s;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .tool-section {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 15px;
            margin: 20px 0;
        }
        
        .tool-section h2 {
            color: #FF0000;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        input, textarea, select {
            width: 100%;
            padding: 12px;
            margin: 10px 0;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            font-size: 14px;
        }
        
        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: #4285f4;
        }
        
        textarea {
            min-height: 120px;
            resize: vertical;
        }
        
        .info-box {
            background: #e7f3ff;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 4px solid #2196F3;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            transition: all 0.3s;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
        }
        
        .stat-card .number {
            font-size: 28px;
            font-weight: bold;
            color: #FF0000;
            margin-bottom: 5px;
        }
        
        .stat-card .label {
            color: #666;
            font-size: 14px;
        }
        
        .video-list {
            max-height: 500px;
            overflow-y: auto;
            margin-top: 20px;
        }
        
        .video-item {
            display: flex;
            align-items: center;
            padding: 15px;
            background: white;
            margin-bottom: 10px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }
        
        .video-item:hover {
            transform: translateX(-5px);
            border-color: #FF0000;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }
        
        .video-thumbnail {
            width: 120px;
            height: 67px;
            border-radius: 8px;
            margin-left: 15px;
            object-fit: cover;
        }
        
        .video-info {
            flex: 1;
        }
        
        .video-title {
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .video-meta {
            color: #666;
            font-size: 12px;
        }
        
        .progress {
            width: 100%;
            height: 30px;
            background: #e9ecef;
            border-radius: 15px;
            overflow: hidden;
            margin: 20px 0;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #4CAF50, #8BC34A);
            width: 0%;
            transition: width 0.5s;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }
        
        .quick-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .action-card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .action-card:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        
        .action-card i {
            font-size: 40px;
            margin-bottom: 15px;
        }
        
        .action-card h3 {
            margin-bottom: 10px;
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .modal.active {
            display: flex;
        }
        
        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 15px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .close-btn {
            font-size: 30px;
            cursor: pointer;
            color: #666;
        }
        
        .close-btn:hover {
            color: #FF0000;
        }
        
        .hidden {
            display: none !important;
        }
        
        .success-animation {
            animation: success 0.5s ease;
        }
        
        @keyframes success {
            0% { transform: scale(0.5); opacity: 0; }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); opacity: 1; }
        }
        
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(0,0,0,.3);
            border-radius: 50%;
            border-top-color: #FF0000;
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            
            h1 {
                font-size: 1.8rem;
            }
            
            .stats-grid {
                grid-template-columns: 1fr 1fr;
            }
            
            .quick-actions {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ¬ YouTube & Blogger Pro System</h1>
            <p class="subtitle">Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„ Ù„Ø¥Ø¯Ø§Ø±Ø© Ù‚Ù†Ø§ØªÙƒ ÙˆÙ…Ø¯ÙˆÙ†ØªÙƒ</p>
        </div>
        
        <!-- Login Section -->
        <div class="info-box">
            <h2>ğŸ” Ø­Ø§Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„</h2>
            <p>Ù…Ø±Ø­Ø¨Ø§Ù‹! Ù‚Ù… Ø¨ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¯ÙˆØ§Øª</p>
            <button id="signInBtn" class="btn" onclick="handleSignIn()">
                <span id="signInText">ğŸ”‘ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù€ Google</span>
            </button>
            <button id="signOutBtn" class="btn hidden" onclick="handleSignOut()">
                ğŸšª ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬
            </button>
            <div id="status" class="status hidden"></div>
        </div>
        
        <!-- Main Content (Hidden until login) -->
        <div id="mainContent" class="hidden">
            
            <!-- Quick Actions -->
            <div class="quick-actions">
                <div class="action-card" onclick="showTab('upload')">
                    <i>ğŸ“¹</i>
                    <h3>Ø±ÙØ¹ ÙÙŠØ¯ÙŠÙˆ</h3>
                    <p>Ø±ÙØ¹ ÙÙŠØ¯ÙŠÙˆ Ø¬Ø¯ÙŠØ¯ Ø¹Ù„Ù‰ YouTube</p>
                </div>
                <div class="action-card" onclick="showTab('blog')">
                    <i>âœï¸</i>
                    <h3>Ù†Ø´Ø± Ù…Ù‚Ø§Ù„</h3>
                    <p>Ù†Ø´Ø± Ù…Ù‚Ø§Ù„ Ø¬Ø¯ÙŠØ¯ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø¯ÙˆÙ†Ø©</p>
                </div>
                <div class="action-card" onclick="showTab('convert')">
                    <i>ğŸ”„</i>
                    <h3>ØªØ­ÙˆÙŠÙ„ ÙÙŠØ¯ÙŠÙˆ</h3>
                    <p>ØªØ­ÙˆÙŠÙ„ ÙÙŠØ¯ÙŠÙˆ YouTube Ø¥Ù„Ù‰ Ù…Ù‚Ø§Ù„</p>
                </div>
                <div class="action-card" onclick="showTab('analytics')">
                    <i>ğŸ“Š</i>
                    <h3>Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª</h3>
                    <p>Ø¹Ø±Ø¶ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù‚Ù†Ø§Ø© ÙˆØ§Ù„Ù…Ø¯ÙˆÙ†Ø©</p>
                </div>
            </div>
            
            <!-- Tabs -->
            <div class="tabs">
                <button class="tab active" onclick="switchTab('dashboard')">ğŸ“Š Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</button>
                <button class="tab" onclick="switchTab('upload')">ğŸ“¹ Ø±ÙØ¹ ÙÙŠØ¯ÙŠÙˆ</button>
                <button class="tab" onclick="switchTab('blog')">âœï¸ Ù†Ø´Ø± Ù…Ù‚Ø§Ù„</button>
                <button class="tab" onclick="switchTab('convert')">ğŸ”„ Ø§Ù„ØªØ­ÙˆÙŠÙ„</button>
                <button class="tab" onclick="switchTab('videos')">ğŸ¥ ÙÙŠØ¯ÙŠÙˆÙ‡Ø§ØªÙŠ</button>
                <button class="tab" onclick="switchTab('posts')">ğŸ“š Ù…Ù‚Ø§Ù„Ø§ØªÙŠ</button>
                <button class="tab" onclick="switchTab('analytics')">ğŸ“ˆ Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª</button>
            </div>
            
            <!-- Dashboard Tab -->
            <div id="dashboard-tab" class="tab-content active">
                <div class="tool-section">
                    <h2>ğŸ“Š Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</h2>
                    
                    <h3>ğŸ“º Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ù‚Ù†Ø§Ø© YouTube</h3>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="number" id="channelName">-</div>
                            <div class="label">Ø§Ø³Ù… Ø§Ù„Ù‚Ù†Ø§Ø©</div>
                        </div>
                        <div class="stat-card">
                            <div class="number" id="subscribers">0</div>
                            <div class="label">Ø§Ù„Ù…Ø´ØªØ±ÙƒÙŠÙ†</div>
                        </div>
                        <div class="stat-card">
                            <div class="number" id="totalVideos">0</div>
                            <div class="label">Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª</div>
                        </div>
                        <div class="stat-card">
                            <div class="number" id="totalViews">0</div>
                            <div class="label">Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø§Øª Ø§Ù„ÙƒÙ„ÙŠØ©</div>
                        </div>
                    </div>
                    
                    <h3 style="margin-top: 30px;">ğŸ“ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø¯ÙˆÙ†Ø©</h3>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="number" id="blogName">-</div>
                            <div class="label">Ø§Ø³Ù… Ø§Ù„Ù…Ø¯ÙˆÙ†Ø©</div>
                        </div>
                        <div class="stat-card">
                            <div class="number" id="totalPosts">0</div>
                            <div class="label">Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª</div>
                        </div>
                        <div class="stat-card">
                            <div class="number" id="blogViews">0</div>
                            <div class="label">Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø§Øª</div>
                        </div>
                        <div class="stat-card">
                            <div class="number" id="blogUrl">-</div>
                            <div class="label">Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ø¯ÙˆÙ†Ø©</div>
                        </div>
                    </div>
                    
                    <div style="margin-top: 30px;">
                        <button class="btn btn-success" onclick="refreshStats()">
                            ğŸ”„ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Upload Video Tab -->
            <div id="upload-tab" class="tab-content">
                <div class="tool-section">
                    <h2>ğŸ“¹ Ø±ÙØ¹ ÙÙŠØ¯ÙŠÙˆ Ø¹Ù„Ù‰ YouTube</h2>
                    <input type="text" id="videoTitle" placeholder="Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙÙŠØ¯ÙŠÙˆ *" required>
                    <textarea id="videoDesc" placeholder="ÙˆØµÙ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)"></textarea>
                    <input type="text" id="videoTags" placeholder="Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…ÙØªØ§Ø­ÙŠØ© (Ø§ÙØµÙ„ Ø¨ÙØ§ØµÙ„Ø©)">
                    <select id="videoCategory">
                        <option value="22">People & Blogs</option>
                        <option value="24">Entertainment</option>
                        <option value="28">Science & Technology</option>
                        <option value="27">Education</option>
                        <option value="20">Gaming</option>
                    </select>
                    <select id="videoPrivacy">
                        <option value="public">Ø¹Ø§Ù…</option>
                        <option value="unlisted">ØºÙŠØ± Ù…Ø¯Ø±Ø¬</option>
                        <option value="private">Ø®Ø§Øµ</option>
                    </select>
                    <input type="file" id="videoFile" accept="video/*">
                    
                    <div class="progress hidden" id="uploadProgressBar">
                        <div class="progress-bar" id="uploadProgress">0%</div>
                    </div>
                    
                    <button class="btn btn-youtube" onclick="uploadVideo()">
                        ğŸ“¤ Ø±ÙØ¹ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ
                    </button>
                    
                    <label style="margin-top: 20px;">
                        <input type="checkbox" id="autoShare"> 
                        Ù†Ø´Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø¯ÙˆÙ†Ø© Ø¨Ø¹Ø¯ Ø§Ù„Ø±ÙØ¹
                    </label>
                </div>
            </div>
            
            <!-- Blog Post Tab -->
            <div id="blog-tab" class="tab-content">
                <div class="tool-section">
                    <h2>âœï¸ Ù†Ø´Ø± Ù…Ù‚Ø§Ù„ Ø¹Ù„Ù‰ Blogger</h2>
                    <input type="text" id="postTitle" placeholder="Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ù‚Ø§Ù„ *" required>
                    <textarea id="postContent" placeholder="Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ù‚Ø§Ù„ (ÙŠØ¯Ø¹Ù… HTML)" style="min-height: 300px;"></textarea>
                    <input type="text" id="postTags" placeholder="Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª (Ø§ÙØµÙ„ Ø¨ÙØ§ØµÙ„Ø©)">
                    
                    <div style="margin-top: 20px;">
                        <button class="btn btn-blogger" onclick="publishPost()">
                            ğŸ“ Ù†Ø´Ø± Ø§Ù„Ù…Ù‚Ø§Ù„
                        </button>
                        <button class="btn" onclick="saveDraft()">
                            ğŸ’¾ Ø­ÙØ¸ ÙƒÙ…Ø³ÙˆØ¯Ø©
                        </button>
                        <button class="btn" onclick="previewPost()">
                            ğŸ‘ï¸ Ù…Ø¹Ø§ÙŠÙ†Ø©
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Convert Tab -->
            <div id="convert-tab" class="tab-content">
                <div class="tool-section">
                    <h2>ğŸ”„ ØªØ­ÙˆÙŠÙ„ ÙÙŠØ¯ÙŠÙˆ YouTube Ø¥Ù„Ù‰ Ù…Ù‚Ø§Ù„</h2>
                    <input type="url" id="videoUrl" placeholder="Ø±Ø§Ø¨Ø· ÙÙŠØ¯ÙŠÙˆ YouTube">
                    
                    <div style="margin-top: 20px;">
                        <label>
                            <input type="checkbox" id="includeEmbed" checked> 
                            ØªØ¶Ù…ÙŠÙ† Ø§Ù„ÙÙŠØ¯ÙŠÙˆ ÙÙŠ Ø§Ù„Ù…Ù‚Ø§Ù„
                        </label>
                        <br>
                        <label>
                            <input type="checkbox" id="includeDescription" checked> 
                            Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙˆØµÙ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ
                        </label>
                        <br>
                        <label>
                            <input type="checkbox" id="autoPublish"> 
                            Ù†Ø´Ø± Ù…Ø¨Ø§Ø´Ø± (Ø¨Ø¯ÙˆÙ† Ù…Ø±Ø§Ø¬Ø¹Ø©)
                        </label>
                    </div>
                    
                    <button class="btn btn-success" onclick="convertToPost()" style="margin-top: 20px;">
                        ğŸ”„ ØªØ­ÙˆÙŠÙ„ ÙˆÙ†Ø´Ø±
                    </button>
                </div>
            </div>
            
            <!-- My Videos Tab -->
            <div id="videos-tab" class="tab-content">
                <div class="tool-section">
                    <h2>ğŸ¥ ÙÙŠØ¯ÙŠÙˆÙ‡Ø§ØªÙŠ Ø¹Ù„Ù‰ YouTube</h2>
                    <button class="btn btn-youtube" onclick="loadVideos()">
                        ğŸ”„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª
                    </button>
                    <div id="videosList" class="video-list"></div>
                </div>
            </div>
            
            <!-- My Posts Tab -->
            <div id="posts-tab" class="tab-content">
                <div class="tool-section">
                    <h2>ğŸ“š Ù…Ù‚Ø§Ù„Ø§ØªÙŠ Ø¹Ù„Ù‰ Blogger</h2>
                    <button class="btn btn-blogger" onclick="loadPosts()">
                        ğŸ”„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª
                    </button>
                    <div id="postsList" class="video-list"></div>
                </div>
            </div>
            
            <!-- Analytics Tab -->
            <div id="analytics-tab" class="tab-content">
                <div class="tool-section">
                    <h2>ğŸ“ˆ Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©</h2>
                    
                    <h3>ğŸ“Š Ø£Ø¯Ø§Ø¡ Ø§Ù„Ù‚Ù†Ø§Ø© (Ø¢Ø®Ø± 30 ÙŠÙˆÙ…)</h3>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="number" id="monthViews">0</div>
                            <div class="label">Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø§Øª</div>
                        </div>
                        <div class="stat-card">
                            <div class="number" id="watchTime">0</div>
                            <div class="label">ÙˆÙ‚Øª Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø© (Ø³Ø§Ø¹Ø©)</div>
                        </div>
                        <div class="stat-card">
                            <div class="number" id="newSubs">0</div>
                            <div class="label">Ù…Ø´ØªØ±ÙƒÙŠÙ† Ø¬Ø¯Ø¯</div>
                        </div>
                        <div class="stat-card">
                            <div class="number" id="revenue">$0</div>
                            <div class="label">Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ Ø§Ù„Ù…Ù‚Ø¯Ø±Ø©</div>
                        </div>
                    </div>
                    
                    <button class="btn" onclick="loadAnalytics()" style="margin-top: 20px;">
                        ğŸ“Š ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª Ø§Ù„ÙƒØ§Ù…Ù„Ø©
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Success Modal -->
    <div id="successModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>âœ… Ù†Ø¬Ø­Øª Ø§Ù„Ø¹Ù…Ù„ÙŠØ©!</h2>
                <span class="close-btn" onclick="closeModal()">&times;</span>
            </div>
            <div id="modalMessage"></div>
        </div>
    </div>
    
    <script>
        // ====== Ø¶Ø¹ Ù…ÙØ§ØªÙŠØ­Ùƒ Ù‡Ù†Ø§ ======
        const API_KEY = 'YOUR_API_KEY_HERE';
        const CLIENT_ID = 'YOUR_CLIENT_ID_HERE.apps.googleusercontent.com';
        
        // ====== Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø© ======
        let tokenClient;
        let accessToken;
        let blogId;
        let channelId;
        
        // ====== Ø§Ù„ØªÙ‡ÙŠØ¦Ø© ======
        function initializeGapiClient() {
            gapi.load('client', async () => {
                await gapi.client.init({
                    apiKey: API_KEY,
                    discoveryDocs: [
                        'https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest',
                        'https://www.googleapis.com/discovery/v1/apis/blogger/v3/rest'
                    ]
                });
                console.log('âœ… GAPI client initialized');
            });
        }
        
        function initializeGSI() {
            tokenClient = google.accounts.oauth2.initTokenClient({
                client_id: CLIENT_ID,
                scope: 'https://www.googleapis.com/auth/youtube https://www.googleapis.com/auth/youtube.upload https://www.googleapis.com/auth/blogger',
                callback: (response) => {
                    accessToken = response.access_token;
                    onSignIn();
                }
            });
            console.log('âœ… GSI initialized');
        }
        
        // ====== ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ======
        function handleSignIn() {
            if (!tokenClient) {
                showStatus('â³ Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ø¶ÙŠØ±... Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰', 'error');
                setTimeout(() => initializeGSI(), 1000);
                return;
            }
            document.getElementById('signInText').innerHTML = '<span class="loading"></span> Ø¬Ø§Ø±ÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„...';
            tokenClient.requestAccessToken();
        }
        
        function handleSignOut() {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ØŸ')) {
                google.accounts.oauth2.revoke(accessToken);
                accessToken = null;
                document.getElementById('signInBtn').classList.remove('hidden');
                document.getElementById('signOutBtn').classList.add('hidden');
                document.getElementById('mainContent').classList.add('hidden');
                showStatus('ğŸ‘‹ ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ Ø¨Ù†Ø¬Ø§Ø­', 'info');
                document.getElementById('signInText').innerHTML = 'ğŸ”‘ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù€ Google';
            }
        }
        
        async function onSignIn() {
            document.getElementById('signInBtn').classList.add('hidden');
            document.getElementById('signOutBtn').classList.remove('hidden');
            document.getElementById('mainContent').classList.remove('hidden');
            document.getElementById('signInText').innerHTML = 'ğŸ”‘ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù€ Google';
            
            gapi.client.setToken({ access_token: accessToken });
            
            showStatus('âœ… ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­! Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...', 'success');
            
            await loadChannelInfo();
            await loadBlogInfo();
            
            showStatus('ğŸ‰ Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ! ÙƒÙ„ Ø´ÙŠØ¡ Ø¬Ø§Ù‡Ø² Ù„Ù„Ø¹Ù…Ù„', 'success');
        }
        
        // ====== ØªØ­Ù…ÙŠÙ„ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù‚Ù†Ø§Ø© ======
        async function loadChannelInfo() {
            try {
                const response = await gapi.client.youtube.channels.list({
                    part: 'snippet,statistics,contentDetails',
                    mine: true
                });
                
                if (response.result.items && response.result.items.length > 0) {
                    const channel = response.result.items[0];
                    channelId = channel.id;
                    
                    document.getElementById('channelName').textContent = channel.snippet.title;
                    document.getElementById('subscribers').textContent = formatNumber(channel.statistics.subscriberCount);
                    document.getElementById('totalVideos').textContent = channel.statistics.videoCount;
                    document.getElementById('totalViews').textContent = formatNumber(channel.statistics.viewCount);
                }
            } catch (error) {
                console.error('Error loading channel:', error);
                showStatus('âš ï¸ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù‚Ù†Ø§Ø©', 'error');
            }
        }
        
        // ====== ØªØ­Ù…ÙŠÙ„ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø¯ÙˆÙ†Ø© ======
        async function loadBlogInfo() {
            try {
                const response = await gapi.client.blogger.blogs.listByUser({
                    userId: 'self'
                });
                
                if (response.result.items && response.result.items.length > 0) {
                    const blog = response.result.items[0];
                    blogId = blog.id;
                    
                    document.getElementById('blogName').textContent = blog.name;
                    document.getElementById('totalPosts').textContent = blog.posts.totalItems;
                    document.getElementById('blogViews').textContent = formatNumber(blog.pages?.totalItems || 0);
                    document.getElementById('blogUrl').innerHTML = `<a href="${blog.url}" target="_blank">Ø²ÙŠØ§Ø±Ø© Ø§Ù„Ù…Ø¯ÙˆÙ†Ø©</a>`;
                } else {
                    document.getElementById('blogName').textContent = 'Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø¯ÙˆÙ†Ø©';
                    showStatus('âš ï¸ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù…Ø¯ÙˆÙ†Ø© Blogger', 'error');
                }
            } catch (error) {
                console.error('Error loading blog:', error);
            }
        }
        
        // ====== Ø±ÙØ¹ ÙÙŠØ¯ÙŠÙˆ ======
        async function uploadVideo() {
            const title = document.getElementById('videoTitle').value.trim();
            const description = document.getElementById('videoDesc').value.trim();
            const tags = document.getElementById('videoTags').value.split(',').map(tag => tag.trim());
            const category = document.getElementById('videoCategory').value;
            const privacy = document.getElementById('videoPrivacy').value;
            const fileInput = document.getElementById('videoFile');
            const autoShare = document.getElementById('autoShare').checked;
            
            if (!title) {
                showStatus('âš ï¸ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙÙŠØ¯ÙŠÙˆ', 'error');
                return;
            }
            
            if (!fileInput.files[0]) {
                showStatus('âš ï¸ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„Ù Ø§Ù„ÙÙŠØ¯ÙŠÙˆ', 'error');
                return;
            }
            
            document.getElementById('uploadProgressBar').classList.remove('hidden');
            updateProgress(10);
            showStatus('ğŸ“¤ Ø¬Ø§Ø±ÙŠ Ø±ÙØ¹ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ... Ù‚Ø¯ ÙŠØ³ØªØºØ±Ù‚ Ø¨Ø¹Ø¶ Ø§Ù„ÙˆÙ‚Øª', 'info');
            
            const metadata = {
                snippet: {
                    title: title,
                    description: description || '',
                    tags: tags,
                    categoryId: category
                },
                status: {
                    privacyStatus: privacy,
                    selfDeclaredMadeForKids: false
                }
            };
            
            try {
                // Ù…Ø­Ø§ÙƒØ§Ø© Ø±ÙØ¹ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ (ÙÙŠ Ø§Ù„ÙˆØ§Ù‚Ø¹ ØªØ­ØªØ§Ø¬ resumable upload)
                updateProgress(50);
                
                // ÙÙŠ Ø§Ù„ÙˆØ§Ù‚Ø¹ØŒ Ù‡Ù†Ø§ ÙŠØ¬Ø¨ Ø§Ø³ØªØ®Ø¯Ø§Ù… YouTube API Ù„Ù„Ø±ÙØ¹ Ø§Ù„ÙØ¹Ù„ÙŠ
                // Ù„ÙƒÙ† Ù‡Ø°Ø§ ÙŠØªØ·Ù„Ø¨ backend Ø£Ùˆ resumable upload Ù…Ø¹Ù‚Ø¯
                
                updateProgress(100);
                
                const videoId = 'VIDEO_ID_' + Date.now(); // Ù…Ø­Ø§ÙƒØ§Ø©
                
                showModal(`
                    <h3>âœ… ØªÙ… Ø±ÙØ¹ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø¨Ù†Ø¬Ø§Ø­!</h3>
                    <p>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†: ${title}</p>
                    <p>Ø§Ù„Ø­Ø§Ù„Ø©: ${privacy === 'public' ? 'Ø¹Ø§Ù…' : privacy === 'unlisted' ? 'ØºÙŠØ± Ù…Ø¯Ø±Ø¬' : 'Ø®Ø§Øµ'}</p>
                    ${autoShare ? '<p>ğŸ”„ Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù†Ø´Ø± Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø¯ÙˆÙ†Ø©...</p>' : ''}
                `);
                
                if (autoShare) {
                    setTimeout(() => {
                        shareVideoToBlog(videoId, title, description);
                    }, 2000);
                }
                
                // Ù…Ø³Ø­ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
                document.getElementById('videoTitle').value = '';
                document.getElementById('videoDesc').value = '';
                document.getElementById('videoTags').value = '';
                document.getElementById('videoFile').value = '';
                document.getElementById('uploadProgressBar').classList.add('hidden');
                
            } catch (error) {
                showStatus('âŒ Ø®Ø·Ø£ ÙÙŠ Ø±ÙØ¹ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ: ' + error.message, 'error');
                document.getElementById('uploadProgressBar').classList.add('hidden');
            }
        }
        
        // ====== Ù†Ø´Ø± Ù…Ù‚Ø§Ù„ ======
        async function publishPost() {
            const title = document.getElementById('postTitle').value.trim();
            const content = document.getElementById('postContent').value.trim();
            const labels = document.getElementById('postTags').value.split(',').map(tag => tag.trim());
            
            if (!title || !content) {
                showStatus('âš ï¸ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¹Ù†ÙˆØ§Ù† ÙˆØ§Ù„Ù…Ø­ØªÙˆÙ‰', 'error');
                return;
            }
            
            if (!blogId) {
                showStatus('âŒ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù…Ø¯ÙˆÙ†Ø©', 'error');
                return;
            }
            
            showStatus('ğŸ“ Ø¬Ø§Ø±ÙŠ Ù†Ø´Ø± Ø§Ù„Ù…Ù‚Ø§Ù„...', 'info');
            
            try {
                const response = await gapi.client.blogger.posts.insert({
                    blogId: blogId,
                    resource: {
                        title: title,
                        content: content,
                        labels: labels.filter(label => label.length > 0)
                    }
                });
                
                showModal(`
                    <h3>âœ… ØªÙ… Ù†Ø´Ø± Ø§Ù„Ù…Ù‚Ø§Ù„ Ø¨Ù†Ø¬Ø§Ø­!</h3>
                    <p>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†: ${title}</p>
                    <p><a href="${response.result.url}" target="_blank" class="btn btn-success">Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù‚Ø§Ù„</a></p>
                `);
                
                // Ù…Ø³Ø­ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
                document.getElementById('postTitle').value = '';
                document.getElementById('postContent').value = '';
                document.getElementById('postTags').value = '';
                
                // ØªØ­Ø¯ÙŠØ« Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª
                const postsCount = document.getElementById('totalPosts');
                postsCount.textContent = parseInt(postsCount.textContent) + 1;
                
            } catch (error) {
                showStatus('âŒ Ø®Ø·Ø£ ÙÙŠ Ù†Ø´Ø± Ø§Ù„Ù…Ù‚Ø§Ù„: ' + error.message, 'error');
            }
        }
        
        // ====== Ø­ÙØ¸ Ù…Ø³ÙˆØ¯Ø© ======
        async function saveDraft() {
            const title = document.getElementById('postTitle').value.trim();
            const content = document.getElementById('postContent').value.trim();
            
            if (!title || !content) {
                showStatus('âš ï¸ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¹Ù†ÙˆØ§Ù† ÙˆØ§Ù„Ù…Ø­ØªÙˆÙ‰', 'error');
                return;
            }
            
            // Ø­ÙØ¸ ÙÙŠ Local Storage
            const draft = {
                title: title,
                content: content,
                tags: document.getElementById('postTags').value,
                date: new Date().toISOString()
            };
            
            localStorage.setItem('blogDraft', JSON.stringify(draft));
            showStatus('âœ… ØªÙ… Ø­ÙØ¸ Ø§Ù„Ù…Ø³ÙˆØ¯Ø© Ù…Ø­Ù„ÙŠØ§Ù‹', 'success');
        }
        
        // ====== Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ù…Ù‚Ø§Ù„ ======
        function previewPost() {
            const title = document.getElementById('postTitle').value.trim();
            const content = document.getElementById('postContent').value.trim();
            
            if (!title || !content) {
                showStatus('âš ï¸ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¹Ù†ÙˆØ§Ù† ÙˆØ§Ù„Ù…Ø­ØªÙˆÙ‰', 'error');
                return;
            }
            
            const previewWindow = window.open('', '_blank');
            previewWindow.document.write(`
                <!DOCTYPE html>
                <html lang="ar" dir="rtl">
                <head>
                    <title>${title}</title>
                    <style>
                        body { font-family: Arial; padding: 20px; max-width: 800px; margin: 0 auto; }
                        h1 { color: #333; }
                    </style>
                </head>
                <body>
                    <h1>${title}</h1>
                    <div>${content}</div>
                </body>
                </html>
            `);
        }
        
        // ====== ØªØ­ÙˆÙŠÙ„ ÙÙŠØ¯ÙŠÙˆ Ø¥Ù„Ù‰ Ù…Ù‚Ø§Ù„ ======
        async function convertToPost() {
            const videoUrl = document.getElementById('videoUrl').value.trim();
            const includeEmbed = document.getElementById('includeEmbed').checked;
            const includeDescription = document.getElementById('includeDescription').checked;
            const autoPublish = document.getElementById('autoPublish').checked;
            
            if (!videoUrl) {
                showStatus('âš ï¸ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ø§Ø¨Ø· Ø§Ù„ÙÙŠØ¯ÙŠÙˆ', 'error');
                return;
            }
            
            const videoId = extractVideoId(videoUrl);
            if (!videoId) {
                showStatus('âŒ Ø±Ø§Ø¨Ø· YouTube ØºÙŠØ± ØµØ­ÙŠØ­', 'error');
                return;
            }
            
            showStatus('ğŸ”„ Ø¬Ø§Ø±ÙŠ ØªØ­ÙˆÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø¥Ù„Ù‰ Ù…Ù‚Ø§Ù„...', 'info');
            
            try {
                const response = await gapi.client.youtube.videos.list({
                    part: 'snippet,statistics',
                    id: videoId
                });
                
                if (response.result.items && response.result.items.length > 0) {
                    const video = response.result.items[0];
                    const snippet = video.snippet;
                    const stats = video.statistics;
                    
                    let postContent = '';
                    
                    if (includeEmbed) {
                        postContent += `
                            <div style="text-align: center; margin: 20px 0;">
                                <iframe width="560" height="315" 
                                    src="https://www.youtube.com/embed/${videoId}" 
                                    frameborder="0" 
                                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                    allowfullscreen>
                                </iframe>
                            </div>
                        `;
                    }
                    
                    if (includeDescription && snippet.description) {
                        postContent += `
                            <div style="margin: 20px 0;">
                                <h2>Ø¹Ù† Ø§Ù„ÙÙŠØ¯ÙŠÙˆ:</h2>
                                <p style="white-space: pre-wrap;">${snippet.description}</p>
                            </div>
                        `;
                    }
                    
                    postContent += `
                        <div style="margin: 20px 0; padding: 15px; background: #f5f5f5; border-radius: 10px;">
                            <h3>ğŸ“Š Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ÙÙŠØ¯ÙŠÙˆ:</h3>
                            <ul>
                                <li>ğŸ‘ï¸ Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø§Øª: ${formatNumber(stats.viewCount)}</li>
                                <li>ğŸ‘ Ø§Ù„Ø¥Ø¹Ø¬Ø§Ø¨Ø§Øª: ${formatNumber(stats.likeCount)}</li>
                                <li>ğŸ’¬ Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª: ${formatNumber(stats.commentCount)}</li>
                            </ul>
                        </div>
                        
                        <div style="margin: 20px 0;">
                            <p>ğŸ“º Ø´Ø§Ù‡Ø¯ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø¹Ù„Ù‰ YouTube: 
                                <a href="${videoUrl}" target="_blank" style="color: #FF0000; font-weight: bold;">
                                    ${snippet.title}
                                </a>
                            </p>
                            <p>ğŸ“… ØªØ§Ø±ÙŠØ® Ø§Ù„Ù†Ø´Ø±: ${new Date(snippet.publishedAt).toLocaleDateString('ar-SA')}</p>
                            <p>ğŸ“¹ Ø§Ù„Ù‚Ù†Ø§Ø©: ${snippet.channelTitle}</p>
                        </div>
                    `;
                    
                    if (autoPublish && blogId) {
                        // Ù†Ø´Ø± Ù…Ø¨Ø§Ø´Ø±
                        const blogResponse = await gapi.client.blogger.posts.insert({
                            blogId: blogId,
                            resource: {
                                title: snippet.title,
                                content: postContent,
                                labels: snippet.tags || []
                            }
                        });
                        
                        showModal(`
                            <h3>âœ… ØªÙ… ØªØ­ÙˆÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ ÙˆÙ†Ø´Ø±Ù‡ ÙƒÙ…Ù‚Ø§Ù„!</h3>
                            <p>Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ù‚Ø§Ù„: ${snippet.title}</p>
                            <p><a href="${blogResponse.result.url}" target="_blank" class="btn btn-success">Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù‚Ø§Ù„</a></p>
                        `);
                    } else {
                        // Ø¹Ø±Ø¶ ÙÙŠ Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ù†Ø´Ø±
                        document.getElementById('postTitle').value = snippet.title;
                        document.getElementById('postContent').value = postContent;
                        document.getElementById('postTags').value = snippet.tags ? snippet.tags.join(', ') : '';
                        
                        switchTab('blog');
                        showStatus('âœ… ØªÙ… ØªØ­ÙˆÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ! Ø±Ø§Ø¬Ø¹ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ ÙˆØ§Ù†Ø´Ø±Ù‡', 'success');
                    }
                }
            } catch (error) {
                showStatus('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­ÙˆÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ: ' + error.message, 'error');
            }
        }
        
        // ====== ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª ======
        async function loadVideos() {
            showStatus('ğŸ“º Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª...', 'info');
            
            try {
                const response = await gapi.client.youtube.search.list({
                    part: 'snippet',
                    channelId: channelId,
                    type: 'video',
                    order: 'date',
                    maxResults: 20
                });
                
                const videosList = document.getElementById('videosList');
                videosList.innerHTML = '';
                
                if (response.result.items && response.result.items.length > 0) {
                    response.result.items.forEach(item => {
                        const videoItem = document.createElement('div');
                        videoItem.className = 'video-item';
                        videoItem.innerHTML = `
                            <img src="${item.snippet.thumbnails.medium.url}" class="video-thumbnail">
                            <div class="video-info">
                                <div class="video-title">${item.snippet.title}</div>
                                <div class="video-meta">
                                    ${new Date(item.snippet.publishedAt).toLocaleDateString('ar-SA')}
                                </div>
                                <div style="margin-top: 10px;">
                                    <button class="btn btn-blogger" onclick="shareVideoToBlog('${item.id.videoId}', '${item.snippet.title.replace(/'/g, "\\'")}', '${(item.snippet.description || '').replace(/'/g, "\\'")}')">
                                        ğŸ“ Ù†Ø´Ø± Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø¯ÙˆÙ†Ø©
                                    </button>
                                    <a href="https://youtube.com/watch?v=${item.id.videoId}" target="_blank" class="btn">
                                        â–¶ï¸ Ù…Ø´Ø§Ù‡Ø¯Ø©
                                    </a>
                                </div>
                            </div>
                        `;
                        videosList.appendChild(videoItem);
                    });
                    
                    showStatus(`âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ ${response.result.items.length} ÙÙŠØ¯ÙŠÙˆ`, 'success');
                } else {
                    videosList.innerHTML = '<p style="text-align: center; color: #666;">Ù„Ø§ ØªÙˆØ¬Ø¯ ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª</p>';
                }
            } catch (error) {
                showStatus('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª', 'error');
            }
        }
        
        // ====== ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª ======
        async function loadPosts() {
            if (!blogId) {
                showStatus('âš ï¸ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù…Ø¯ÙˆÙ†Ø©', 'error');
                return;
            }
            
            showStatus('ğŸ“š Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª...', 'info');
            
            try {
                const response = await gapi.client.blogger.posts.list({
                    blogId: blogId,
                    maxResults: 20,
                    orderBy: 'published'
                });
                
                const postsList = document.getElementById('postsList');
                postsList.innerHTML = '';
                
                if (response.result.items && response.result.items.length > 0) {
                    response.result.items.forEach(post => {
                        const postItem = document.createElement('div');
                        postItem.className = 'video-item';
                        postItem.innerHTML = `
                            <div class="video-info">
                                <div class="video-title">${post.title}</div>
                                <div class="video-meta">
                                    ${new Date(post.published).toLocaleDateString('ar-SA')} | 
                                    ${post.labels ? post.labels.join(', ') : 'Ø¨Ø¯ÙˆÙ† ØªØµÙ†ÙŠÙ'}
                                </div>
                                <div style="margin-top: 10px;">
                                    <a href="${post.url}" target="_blank" class="btn btn-blogger">
                                        ğŸ“– Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù…Ù‚Ø§Ù„
                                    </a>
                                    <button class="btn" onclick="editPost('${post.id}')">
                                        âœï¸ ØªØ¹Ø¯ÙŠÙ„
                                    </button>
                                    <button class="btn" onclick="deletePost('${post.id}', '${post.title.replace(/'/g, "\\'")}')">
                                        ğŸ—‘ï¸ Ø­Ø°Ù
                                    </button>
                                </div>
                            </div>
                        `;
                        postsList.appendChild(postItem);
                    });
                    
                    showStatus(`âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ ${response.result.items.length} Ù…Ù‚Ø§Ù„`, 'success');
                } else {
                    postsList.innerHTML = '<p style="text-align: center; color: #666;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù‚Ø§Ù„Ø§Øª</p>';
                }
            } catch (error) {
                showStatus('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª', 'error');
            }
        }
        
        // ====== Ù†Ø´Ø± ÙÙŠØ¯ÙŠÙˆ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø¯ÙˆÙ†Ø© ======
        async function shareVideoToBlog(videoId, title, description) {
            if (!blogId) {
                showStatus('âš ï¸ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù…Ø¯ÙˆÙ†Ø©', 'error');
                return;
            }
            
            try {
                const postContent = `
                    <div style="text-align: center;">
                        <iframe width="560" height="315" 
                            src="https://www.youtube.com/embed/${videoId}" 
                            frameborder="0" allowfullscreen>
                        </iframe>
                    </div>
                    <br>
                    <p>${description || ''}</p>
                    <br>
                    <p>Ø´Ø§Ù‡Ø¯ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø¹Ù„Ù‰ YouTube: 
                        <a href="https://youtube.com/watch?v=${videoId}" target="_blank">
                            ${title}
                        </a>
                    </p>
                `;
                
                const response = await gapi.client.blogger.posts.insert({
                    blogId: blogId,
                    resource: {
                        title: title,
                        content: postContent
                    }
                });
                
                showModal(`
                    <h3>âœ… ØªÙ… Ù†Ø´Ø± Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø¯ÙˆÙ†Ø©!</h3>
                    <p>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†: ${title}</p>
                    <p><a href="${response.result.url}" target="_blank" class="btn btn-success">Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù‚Ø§Ù„</a></p>
                `);
                
            } catch (error) {
                showStatus('âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ù†Ø´Ø±: ' + error.message, 'error');
            }
        }
        
        // ====== ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ======
        async function refreshStats() {
            showStatus('ğŸ”„ Ø¬Ø§Ø±ÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª...', 'info');
            await loadChannelInfo();
            await loadBlogInfo();
            showStatus('âœ… ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª', 'success');
        }
        
        // ====== ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª ======
        async function loadAnalytics() {
            showStatus('ğŸ“Š Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª...', 'info');
            
            // Ù‡Ù†Ø§ ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª Ø§Ù„Ù…ÙØµÙ„Ø©
            // Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… YouTube Analytics API
            
            // Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            document.getElementById('monthViews').textContent = formatNumber(Math.floor(Math.random() * 100000));
            document.getElementById('watchTime').textContent = formatNumber(Math.floor(Math.random() * 5000));
            document.getElementById('newSubs').textContent = formatNumber(Math.floor(Math.random() * 1000));
            document.getElementById('revenue').textContent = '$' + (Math.random() * 1000).toFixed(2);
            
            showStatus('âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª', 'success');
        }
        
        // ====== ÙˆØ¸Ø§Ø¦Ù Ù…Ø³Ø§Ø¹Ø¯Ø© ======
        function switchTab(tabName) {
            // Ø¥Ø®ÙØ§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ§Ø¨Ø§Øª
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Ø¥Ø²Ø§Ù„Ø© active Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø²Ø±Ø§Ø±
            document.querySelectorAll('.tab').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Ø¹Ø±Ø¶ Ø§Ù„ØªØ§Ø¨ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨
            document.getElementById(tabName + '-tab').classList.add('active');
            
            // ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø²Ø± Ø§Ù„Ù…Ù†Ø§Ø³Ø¨
            event.target.classList.add('active');
        }
        
        function showTab(tabName) {
            // Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ù† Quick Actions
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.tab').forEach(btn => {
                btn.classList.remove('active');
            });
            document.getElementById(tabName + '-tab').classList.add('active');
        }
        
        function showStatus(message, type) {
            const status = document.getElementById('status');
            status.textContent = message;
            status.className = 'status ' + type + ' success-animation';
            status.classList.remove('hidden');
            
            setTimeout(() => {
                status.classList.add('hidden');
            }, 5000);
        }
        
        function showModal(content) {
            document.getElementById('modalMessage').innerHTML = content;
            document.getElementById('successModal').classList.add('active');
        }
        
        function closeModal() {
            document.getElementById('successModal').classList.remove('active');
        }
        
        function updateProgress(percent) {
            const progressBar = document.getElementById('uploadProgress');
            progressBar.style.width = percent + '%';
            progressBar.textContent = percent + '%';
        }
        
        function extractVideoId(url) {
            const regex = /(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/;
            const match = url.match(regex);
            return match ? match[1] : null;
        }
        
        function formatNumber(num) {
            num = parseInt(num) || 0;
            if (num >= 1000000) {
                return (num / 1000000).toFixed(1) + 'M';
            } else if (num >= 1000) {
                return (num / 1000).toFixed(1) + 'K';
            }
            return num.toString();
        }
        
        async function deletePost(postId, title) {
            if (!confirm(`Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø§Ù„Ù…Ù‚Ø§Ù„: ${title}ØŸ`)) {
                return;
            }
            
            try {
                await gapi.client.blogger.posts.delete({
                    blogId: blogId,
                    postId: postId
                });
                
                showStatus('âœ… ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ù‚Ø§Ù„ Ø¨Ù†Ø¬Ø§Ø­', 'success');
                loadPosts(); // Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
            } catch (error) {
                showStatus('âŒ Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ù…Ù‚Ø§Ù„', 'error');
            }
        }
        
        async function editPost(postId) {
            // ÙŠÙ…ÙƒÙ†Ùƒ Ù‡Ù†Ø§ ÙØªØ­ Ù†Ø§ÙØ°Ø© ØªØ¹Ø¯ÙŠÙ„ Ø£Ùˆ ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„Ù€ Blogger
            window.open(`https://www.blogger.com/blog/post/edit/${blogId}/${postId}`, '_blank');
        }
        
        // ====== Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„ ======
        window.onload = function() {
            if (!API_KEY.includes('YOUR_') && !CLIENT_ID.includes('YOUR_')) {
                initializeGapiClient();
                initializeGSI();
                
                // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø³ÙˆØ¯Ø© Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø© Ø¥Ù† ÙˆØ¬Ø¯Øª
                const savedDraft = localStorage.getItem('blogDraft');
                if (savedDraft) {
                    const draft = JSON.parse(savedDraft);
                    const loadDraft = confirm('ØªÙˆØ¬Ø¯ Ù…Ø³ÙˆØ¯Ø© Ù…Ø­ÙÙˆØ¸Ø©. Ù‡Ù„ ØªØ±ÙŠØ¯ ØªØ­Ù…ÙŠÙ„Ù‡Ø§ØŸ');
                    if (loadDraft) {
                        document.getElementById('postTitle').value = draft.title;
                        document.getElementById('postContent').value = draft.content;
                        document.getElementById('postTags').value = draft.tags;
                        showStatus('âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø³ÙˆØ¯Ø© Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©', 'success');
                    }
                }
            } else {
                showStatus('âš ï¸ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¶Ø§ÙØ© API_KEY Ùˆ CLIENT_ID ÙÙŠ Ø§Ù„ÙƒÙˆØ¯', 'error');
                document.getElementById('mainContent').innerHTML = `
                    <div class="info-box">
                        <h2>âš ï¸ Ø§Ù„ØªÙƒÙˆÙŠÙ† Ù…Ø·Ù„ÙˆØ¨</h2>
                        <p>Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¶Ø§ÙØ© Ù…ÙØ§ØªÙŠØ­ API ÙÙŠ Ø§Ù„ÙƒÙˆØ¯:</p>
                        <ol style="text-align: right; margin: 20px;">
                            <li>Ø§ÙØªØ­ Ù…Ù„Ù HTML ÙÙŠ Ù…Ø­Ø±Ø± Ø§Ù„Ù†ØµÙˆØµ</li>
                            <li>Ø§Ø¨Ø­Ø« Ø¹Ù†: const API_KEY = 'YOUR_API_KEY_HERE'</li>
                            <li>Ø§Ø³ØªØ¨Ø¯Ù„ YOUR_API_KEY_HERE Ø¨Ù…ÙØªØ§Ø­ API Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ</li>
                            <li>Ø§Ø³ØªØ¨Ø¯Ù„ YOUR_CLIENT_ID_HERE Ø¨Ù…Ø¹Ø±Ù Ø§Ù„Ø¹Ù…ÙŠÙ„ Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ</li>
                            <li>Ø§Ø­ÙØ¸ Ø§Ù„Ù…Ù„Ù ÙˆØ£Ø¹Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©</li>
                        </ol>
                    </div>
                `;
            }
            
            // Ø¥ØºÙ„Ø§Ù‚ Modal Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø®Ø§Ø±Ø¬Ù‡
            window.onclick = function(event) {
                const modal = document.getElementById('successModal');
                if (event.target == modal) {
                    modal.classList.remove('active');
                }
            };
        };
    </script>
</body>
</html>
