<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Baseerah Ultimate | Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --bg: #020617; --card: #0f172a; --border: #1e293b;
            --accent: #3b82f6; --tag: #4f46e5; --text: #ffffff;
            --gradient: linear-gradient(90deg, #4f46e5, #9333ea);
        }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Cairo', sans-serif; }
        body { background-color: var(--bg); color: var(--text); min-height: 100vh; }

        /* 1. Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ù„ÙˆÙŠ */
        .status-bar {
            background: var(--gradient); padding: 8px; font-size: 11px; font-weight: bold;
            display: flex; justify-content: space-around; letter-spacing: 1px;
        }

        /* 2. Ø§Ù„Ù‡ÙŠÙƒÙ„ */
        .container {
            max-width: 1200px; margin: 0 auto; padding: 20px;
            display: grid; grid-template-columns: 260px 1fr; gap: 30px;
        }

        /* 3. Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© */
        .sidebar {
            background: var(--card); border: 1px solid var(--border); border-radius: 20px;
            padding: 25px; height: fit-content; position: sticky; top: 20px;
        }
        .brand { font-size: 24px; font-weight: 900; margin-bottom: 30px; display: flex; align-items: center; gap: 10px; }
        .nav-item {
            padding: 14px; margin-bottom: 8px; border-radius: 10px; color: #94a3b8; cursor: pointer;
            display: flex; align-items: center; gap: 12px; transition: 0.3s;
        }
        .nav-item:hover, .nav-item.active { background: rgba(59, 130, 246, 0.1); color: white; font-weight: bold; }
        
        .btn-create {
            background: var(--accent); color: white; width: 100%; padding: 15px; border-radius: 12px;
            border: none; font-weight: bold; cursor: pointer; margin-top: 20px; box-shadow: 0 5px 15px rgba(59, 130, 246, 0.3);
        }

        /* 4. Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª (Ø§Ù„Ù…Ø­ØªÙˆÙ‰) */
        .grid { display: grid; gap: 25px; }
        .article-card {
            background: var(--card); border: 1px solid var(--border); border-radius: 20px; overflow: hidden;
            transition: 0.3s; position: relative;
        }
        .article-card:hover { transform: translateY(-5px); border-color: var(--accent); }
        .card-img { width: 100%; height: 220px; object-fit: cover; }
        .card-body { padding: 25px; position: relative; margin-top: -50px; }
        .tag { background: var(--tag); padding: 4px 12px; border-radius: 50px; font-size: 10px; font-weight: bold; display: inline-block; margin-bottom: 10px; box-shadow: 0 4px 10px rgba(0,0,0,0.5); }
        .card-title { font-size: 20px; font-weight: 800; margin-bottom: 10px; line-height: 1.4; }
        .card-desc { font-size: 13px; color: #94a3b8; line-height: 1.6; }

        /* 5. Ø§Ù„Ù†ÙˆØ§ÙØ° Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø© (Modals) */
        .modal {
            position: fixed; inset: 0; background: rgba(0,0,0,0.9); z-index: 999;
            display: none; justify-content: center; align-items: center; backdrop-filter: blur(5px);
        }
        .modal-box { background: var(--card); width: 500px; padding: 30px; border-radius: 20px; border: 1px solid var(--border); }
        
        input, textarea, select {
            width: 100%; background: #020617; border: 1px solid var(--border); padding: 15px;
            border-radius: 10px; color: white; margin-bottom: 15px;
        }
        .btn-action { width: 100%; padding: 15px; border-radius: 10px; border: none; font-weight: bold; cursor: pointer; margin-top: 10px; }
        .btn-yt { background: #ef4444; color: white; }
        .btn-bl { background: #f97316; color: white; }
        .btn-ai { background: var(--accent); color: white; }

        @media (max-width: 768px) { .container { grid-template-columns: 1fr; } .sidebar { display: none; } }
    </style>
</head>
<body>

<div class="status-bar">
    <span><i class="fa-solid fa-server"></i> SERVER: ONLINE</span>
    <span><i class="fa-solid fa-brain"></i> AI: GEMINI-PRO</span>
    <span><i class="fa-solid fa-check-circle"></i> ADSENSE: READY</span>
</div>

<div class="container">
    
    <div class="sidebar">
        <div class="brand"><i class="fa-solid fa-layer-group"></i> BASEERAH</div>
        <div class="nav-item active" onclick="showView('feed')"><i class="fa-solid fa-home"></i> Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</div>
        <div class="nav-item" onclick="showView('legal')"><i class="fa-solid fa-scale-balanced"></i> Ø§Ù„Ø³ÙŠØ§Ø³Ø§Øª (Ads)</div>
        <div class="nav-item" onclick="logout()" style="color:#ef4444;"><i class="fa-solid fa-power-off"></i> Ø®Ø±ÙˆØ¬</div>
        
        <button class="btn-create" onclick="openModal('create-modal')">
            <i class="fa-solid fa-plus"></i> Ø¥Ù†Ø´Ø§Ø¡ Ø¬Ø¯ÙŠØ¯
        </button>
    </div>

    <div class="grid" id="main-feed">
        <div class="article-card">
            <img src="https://source.unsplash.com/random/800x400/?tech" class="card-img">
            <div class="card-body">
                <span class="tag">AI UPDATE</span>
                <h2 class="card-title">Ù…Ø³ØªÙ‚Ø¨Ù„ ØµÙ†Ø§Ø¹Ø© Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ù…Ø¹ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</h2>
                <p class="card-desc">ÙƒÙŠÙ ÙŠÙ…ÙƒÙ† Ù„Ø£Ø¯ÙˆØ§Øª Ù…Ø«Ù„ Gemini Ùˆ ChatGPT ØªØºÙŠÙŠØ± Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ù„Ø¹Ø¨Ø© ÙÙŠ Ø¹Ø§Ù… 2025...</p>
            </div>
        </div>
    </div>
    
    <div id="legal-view" style="display:none;">
        <div class="article-card" style="padding:30px;">
            <h2 style="margin-bottom:20px;">Ù…ÙˆÙ„Ø¯ Ø§Ù„ØµÙØ­Ø§Øª Ø§Ù„Ù‚Ø§Ù†ÙˆÙ†ÙŠØ©</h2>
            <p style="color:#aaa; margin-bottom:20px;">Ø£Ù†Ø´Ø¦ ØµÙØ­Ø§ØªÙƒ Ù„Ù„Ù‚Ø¨ÙˆÙ„ ÙÙŠ AdSense ÙÙˆØ±Ø§Ù‹.</p>
            <button class="btn-action btn-ai" onclick="genLegal('privacy')">ğŸ“„ ØªÙˆÙ„ÙŠØ¯ Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</button>
            <button class="btn-action btn-ai" style="background:#333;" onclick="genLegal('terms')">ğŸ“œ ØªÙˆÙ„ÙŠØ¯ Ø´Ø±ÙˆØ· Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</button>
            <textarea id="legal-out" rows="10" style="margin-top:20px;"></textarea>
        </div>
    </div>

</div>

<div class="modal" id="create-modal">
    <div class="modal-box">
        <h2 style="margin-bottom:20px;">Ù…Ø§Ø°Ø§ ØªØ±ÙŠØ¯ Ø£Ù† ØªÙ†Ø´Ø¦ØŸ</h2>
        <input type="text" id="ai-topic" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹ Ù‡Ù†Ø§...">
        <select id="content-type">
            <option value="blog">Ù…Ù‚Ø§Ù„ Ù„Ù„Ù…Ø¯ÙˆÙ†Ø© (Blogger)</option>
            <option value="video">ÙÙŠØ¯ÙŠÙˆ Ù„Ù„ÙŠÙˆØªÙŠÙˆØ¨ (YouTube)</option>
        </select>
        
        <button class="btn-action btn-ai" onclick="runAI()">âœ¨ Ø§Ø·Ù„Ø¨ Ù…Ù† Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„ÙƒØªØ§Ø¨Ø©</button>
        
        <div id="result-area" style="display:none; margin-top:20px; border-top:1px solid #333; padding-top:20px;">
            <input type="text" id="final-title">
            <textarea id="final-body" rows="6"></textarea>
            
            <button id="btn-pub-blog" class="btn-action btn-bl" onclick="publishBlog()" style="display:none;">ğŸ“ Ù†Ø´Ø± ÙÙŠ Blogger</button>
            
            <div id="yt-upload-area" style="display:none;">
                <input type="text" id="yt-tags" placeholder="Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…ÙØªØ§Ø­ÙŠØ©">
                <div style="background:#222; padding:15px; border-radius:10px; text-align:center; cursor:pointer; margin-bottom:10px;" onclick="document.getElementById('yt-file').click()">
                    ğŸ“ Ø§Ø®ØªØ± Ø§Ù„ÙÙŠØ¯ÙŠÙˆ
                    <input type="file" id="yt-file" accept="video/*" hidden>
                </div>
                <button class="btn-action btn-yt" onclick="uploadYT()">ğŸš€ Ø±ÙØ¹ Ù„Ù„ÙŠÙˆØªÙŠÙˆØ¨</button>
            </div>
        </div>

        <button class="btn-action" style="background:transparent; color:#aaa;" onclick="closeModal()">Ø¥Ù„ØºØ§Ø¡</button>
    </div>
</div>

<div class="modal" id="auth-modal" style="display:flex;">
    <div class="modal-box" style="text-align:center;">
        <h2 style="color:var(--accent); margin-bottom:15px;">Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹</h2>
        <input type="text" id="setup-cid" placeholder="Google Client ID">
        <input type="password" id="setup-key" placeholder="Gemini API Key">
        <input type="text" id="setup-bid" placeholder="Blog ID">
        <button class="btn-action btn-ai" onclick="saveKeys()">Ø§ØªØµØ§Ù„ Ø¢Ù…Ù†</button>
    </div>
</div>

<script>
    let token = "";

    // 1. Ø§Ù„ØªØ´ØºÙŠÙ„ ÙˆØ§Ù„ØªØ­Ù‚Ù‚
    window.onload = () => {
        if(localStorage.getItem("cid")) document.getElementById("auth-modal").style.display = "none";
        
        const params = new URLSearchParams(window.location.hash.substring(1));
        if (params.has("access_token")) {
            token = params.get("access_token");
            document.getElementById("auth-modal").style.display = "none";
        }
    };

    function saveKeys() {
        localStorage.setItem("cid", document.getElementById("setup-cid").value);
        localStorage.setItem("akey", document.getElementById("setup-key").value);
        localStorage.setItem("bid", document.getElementById("setup-bid").value);
        
        const cid = document.getElementById("setup-cid").value;
        const redirect = window.location.href.split('?')[0].replace(/\/$/, "");
        const scope = "https://www.googleapis.com/auth/youtube.upload https://www.googleapis.com/auth/blogger";
        window.location.href = `https://accounts.google.com/o/oauth2/v2/auth?client_id=${cid}&redirect_uri=${redirect}&response_type=token&scope=${scope}&include_granted_scopes=true&state=pass`;
    }

    // 2. Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
    function showView(view) {
        document.getElementById("main-feed").style.display = view === 'feed' ? 'grid' : 'none';
        document.getElementById("legal-view").style.display = view === 'legal' ? 'block' : 'none';
    }
    
    function openModal(id) { document.getElementById(id).style.display = "flex"; }
    function closeModal() { document.querySelectorAll(".modal").forEach(e => e.style.display = "none"); }

    // 3. Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
    async function runAI() {
        const topic = document.getElementById("ai-topic").value;
        const type = document.getElementById("content-type").value;
        const key = localStorage.getItem("akey");
        
        const btn = document.querySelector(".btn-ai");
        btn.innerText = "â³ Ø¬Ø§Ø±ÙŠ Ø§Ù„ÙƒØªØ§Ø¨Ø©...";

        const prompt = type === 'blog' 
            ? `Ø§ÙƒØªØ¨ Ù…Ù‚Ø§Ù„Ø§Ù‹ Ø·ÙˆÙŠÙ„Ø§Ù‹ ÙˆÙ…ÙØµÙ„Ø§Ù‹ Ø¹Ù†: ${topic}. Ø¨Ø¯ÙˆÙ† ÙƒÙˆØ¯ HTML.` 
            : `Ø§ÙƒØªØ¨ Ø¹Ù†ÙˆØ§Ù† ÙˆÙˆØµÙ ÙˆÙƒÙ„Ù…Ø§Øª Ù…ÙØªØ§Ø­ÙŠØ© Ù„ÙÙŠØ¯ÙŠÙˆ Ø¹Ù†: ${topic}. Ø§ÙØµÙ„ Ø¨ÙŠÙ†Ù‡Ù… Ø¨Ù€ |||`;

        try {
            const res = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${key}`, {
                method: "POST", headers: {"Content-Type": "application/json"}, body: JSON.stringify({ contents: [{ parts: [{ text: prompt }] }] })
            });
            const data = await res.json();
            const text = data.candidates[0].content.parts[0].text;
            
            document.getElementById("result-area").style.display = "block";
            
            if(type === 'blog') {
                document.getElementById("final-title").value = topic;
                document.getElementById("final-body").value = text;
                document.getElementById("btn-pub-blog").style.display = "block";
                document.getElementById("yt-upload-area").style.display = "none";
            } else {
                const parts = text.split("|||");
                document.getElementById("final-title").value = parts[0]?.trim();
                document.getElementById("final-body").value = parts[1]?.trim();
                document.getElementById("yt-tags").value = parts[2]?.trim();
                document.getElementById("btn-pub-blog").style.display = "none";
                document.getElementById("yt-upload-area").style.display = "block";
            }
            btn.innerText = "âœ¨ Ø§Ø·Ù„Ø¨ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰";

        } catch(e) { alert("Ø®Ø·Ø£: " + e.message); }
    }

    // 4. Ø§Ù„Ù†Ø´Ø± Ø§Ù„ÙØ¹Ù„ÙŠ (Blogger)
    async function publishBlog() {
        if(!token) return saveKeys();
        const bid = localStorage.getItem("bid");
        const body = {
            kind: "blogger#post", blog: { id: bid },
            title: document.getElementById("final-title").value,
            content: document.getElementById("final-body").value
        };

        const res = await fetch(`https://www.googleapis.com/blogger/v3/blogs/${bid}/posts/`, {
            method: "POST", headers: { "Authorization": `Bearer ${token}`, "Content-Type": "application/json" }, body: JSON.stringify(body)
        });
        
        if(res.ok) {
            alert("âœ… ØªÙ… Ù†Ø´Ø± Ø§Ù„Ù…Ù‚Ø§Ù„ ÙÙŠ Ù…Ø¯ÙˆÙ†ØªÙƒ!");
            closeModal();
            // Ø¥Ø¶Ø§ÙØ© Ø¨Ø·Ø§Ù‚Ø© ÙˆÙ‡Ù…ÙŠØ© Ù„Ù„Ù…Ø¹Ø§ÙŠÙ†Ø©
            addCard(body.title, "ØªÙ… Ø§Ù„Ù†Ø´Ø± Ø¨Ù†Ø¬Ø§Ø­ ÙÙŠ Blogger");
        } else alert("ÙØ´Ù„ Ø§Ù„Ù†Ø´Ø±");
    }

    // 5. Ø§Ù„Ø±ÙØ¹ Ø§Ù„ÙØ¹Ù„ÙŠ (YouTube)
    async function uploadYT() {
        if(!token) return saveKeys();
        const file = document.getElementById("yt-file").files[0];
        if(!file) return alert("Ø§Ø®ØªØ± Ø§Ù„ÙÙŠØ¯ÙŠÙˆ!");

        alert("Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø±ÙØ¹... ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±");
        
        const meta = {
            snippet: {
                title: document.getElementById("final-title").value,
                description: document.getElementById("final-body").value,
                tags: document.getElementById("yt-tags").value.split(","),
                categoryId: "28"
            }, status: { privacyStatus: "public" }
        };

        const init = await fetch("https://www.googleapis.com/upload/youtube/v3/videos?uploadType=resumable&part=snippet,status", {
            method: "POST", headers: { "Authorization": `Bearer ${token}`, "Content-Type": "application/json" }, body: JSON.stringify(meta)
        });
        const url = init.headers.get("Location");
        const xhr = new XMLHttpRequest();
        xhr.open("PUT", url, true);
        xhr.onload = () => { 
            alert("âœ… ØªÙ… Ø±ÙØ¹ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ù„Ù‚Ù†Ø§ØªÙƒ!");
            closeModal();
        };
        xhr.send(file);
    }

    // 6. Ø§Ù„Ø³ÙŠØ§Ø³Ø§Øª
    function genLegal(type) {
        const txt = type === 'privacy' ? "Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ© Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ÙŠØ©..." : "Ø´Ø±ÙˆØ· Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…...";
        document.getElementById("legal-out").value = txt;
    }

    function addCard(title, desc) {
        const html = `
        <div class="article-card">
            <img src="https://source.unsplash.com/random/800x400/?code" class="card-img">
            <div class="card-body">
                <span class="tag" style="background:#10b981;">NEW</span>
                <h2 class="card-title">${title}</h2>
                <p class="card-desc">${desc}</p>
            </div>
        </div>`;
        document.getElementById("main-feed").insertAdjacentHTML('afterbegin', html);
    }
    
    function logout() { localStorage.clear(); location.reload(); }
</script>

</body>
</html>

