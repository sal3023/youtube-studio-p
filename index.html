<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ± - Ù…Ø¹ Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ø±Ø¨Ø§Ø­</title>
    <style>
        *{margin:0;padding:0;box-sizing:border-box;font-family:system-ui}
        body{background:#0f172a;color:#fff;min-height:100vh}
        .header{background:#1e293b;padding:1rem;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem}
        .btn{background:#6366f1;color:#fff;border:none;padding:0.5rem 1rem;border-radius:8px;cursor:pointer;font-size:0.9rem}
        .btn-success{background:#10b981}
        .btn-warning{background:#f59e0b}
        .container{max-width:1200px;margin:0 auto;padding:1rem}
        
        /* Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ */
        .earnings-box{background:linear-gradient(135deg,#6366f1,#8b5cf6);padding:1rem;border-radius:12px;margin-bottom:1rem;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem}
        .earnings-stats{display:flex;gap:2rem;flex-wrap:wrap}
        .stat{text-align:center}
        .stat-value{font-size:1.5rem;font-weight:bold}
        .stat-label{font-size:0.8rem;opacity:0.9}
        
        /* Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª */
        .ad-banner{background:#1e293b;padding:1rem;border-radius:12px;margin:1rem 0;text-align:center;position:relative;overflow:hidden}
        .ad-label{position:absolute;top:5px;left:5px;background:#f59e0b;color:#000;padding:2px 8px;font-size:0.7rem;border-radius:4px}
        .ad-content{min-height:60px;display:flex;align-items:center;justify-content:center;gap:1rem;flex-wrap:wrap}
        .ad-btn{background:#ec4899;color:#fff;padding:0.5rem 1rem;border-radius:20px;text-decoration:none;font-size:0.9rem}
        
        /* Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª */
        .ad-types{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem;margin:1rem 0}
        .ad-type-card{background:#1e293b;padding:1rem;border-radius:12px;border:2px solid transparent;cursor:pointer;transition:0.3s}
        .ad-type-card:hover{border-color:#6366f1}
        .ad-type-card.active{border-color:#10b981;background:#064e3b}
        .ad-type-title{font-weight:bold;margin-bottom:0.5rem}
        .ad-type-desc{font-size:0.85rem;color:#94a3b8}
        .ad-type-earnings{color:#10b981;font-weight:bold;margin-top:0.5rem}
        
        /* Ø§Ù„Ù…Ø¹Ø±Ø¶ */
        .folders{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:1rem;margin:1rem 0}
        .folder{background:#1e293b;padding:1rem;border-radius:12px;cursor:pointer;transition:0.3s;position:relative}
        .folder:hover{transform:translateY(-5px)}
        .folder-icon{font-size:2rem;margin-bottom:0.5rem}
        .photos{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:1rem}
        .photo{aspect-ratio:1;background:#1e293b;border-radius:8px;overflow:hidden;cursor:pointer;position:relative}
        .photo img{width:100%;height:100%;object-fit:cover}
        .photo-overlay{position:absolute;inset:0;background:rgba(0,0,0,0.7);display:none;align-items:center;justify-content:center;flex-direction:column;gap:0.5rem;padding:0.5rem}
        .photo:hover .photo-overlay{display:flex}
        .view-btn{background:#6366f1;color:#fff;border:none;padding:0.5rem;border-radius:6px;cursor:pointer;width:100%}
        
        /* Ù†Ø§ÙØ°Ø© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† */
        .ad-modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.9);z-index:300;justify-content:center;align-items:center;padding:1rem}
        .ad-modal.active{display:flex}
        .ad-box{background:#1e293b;padding:2rem;border-radius:16px;max-width:400px;width:100%;text-align:center}
        .ad-timer{font-size:3rem;font-weight:bold;color:#6366f1;margin:1rem 0}
        .skip-btn{background:#334155;color:#fff;border:none;padding:0.75rem 2rem;border-radius:8px;cursor:pointer;margin-top:1rem}
        .skip-btn:disabled{opacity:0.5;cursor:not-allowed}
        
        /* Ø³Ø­Ø¨ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ */
        .withdraw-section{background:#1e293b;padding:1rem;border-radius:12px;margin-top:1rem}
        .withdraw-input{width:100%;padding:0.75rem;margin:0.5rem 0;background:#0f172a;border:1px solid #334155;color:#fff;border-radius:8px}
        
        /* ØªØ¨ÙˆÙŠØ¨Ø§Øª */
        .tabs{display:flex;gap:0.5rem;margin-bottom:1rem;flex-wrap:wrap}
        .tab{background:#334155;color:#fff;border:none;padding:0.75rem 1.5rem;border-radius:8px;cursor:pointer}
        .tab.active{background:#6366f1}
        .tab-content{display:none}
        .tab-content.active{display:block}
        
        .modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.8);z-index:100;justify-content:center;align-items:center;padding:1rem}
        .modal.active{display:flex}
        .modal-content{background:#1e293b;padding:1.5rem;border-radius:12px;max-width:400px;width:100%}
        .input{width:100%;padding:0.5rem;margin:0.5rem 0;background:#0f172a;border:1px solid #334155;color:#fff;border-radius:6px}
        .lightbox{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.95);z-index:200;justify-content:center;align-items:center}
        .lightbox.active{display:flex}
        .lightbox img{max-width:90%;max-height:90vh;border-radius:8px}
        .close{position:absolute;top:1rem;right:1rem;background:none;border:none;color:#fff;font-size:2rem;cursor:pointer}
        
        @media(max-width:768px){.earnings-stats{justify-content:center;width:100%}}
    </style>
</head>
<body>
    <!-- Header -->
    <div class="header">
        <h2>ğŸ“· Ù…Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ±</h2>
        <div style="display:flex;gap:0.5rem;flex-wrap:wrap">
            <button class="btn btn-success" onclick="showTab('earnings')">ğŸ’° Ø§Ù„Ø£Ø±Ø¨Ø§Ø­</button>
            <button class="btn btn-warning" onclick="showTab('gallery')">ğŸ–¼ï¸ Ø§Ù„Ù…Ø¹Ø±Ø¶</button>
            <button class="btn" onclick="showFolderModal()">+ Ù…Ø¬Ù…ÙˆØ¹Ø©</button>
            <button class="btn" onclick="document.getElementById('file').click()">+ ØµÙˆØ±</button>
        </div>
    </div>

    <div class="container">
        <!-- ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ -->
        <div class="earnings-box">
            <div>
                <h3>ğŸ’µ Ø±ØµÙŠØ¯Ùƒ Ø§Ù„Ø­Ø§Ù„ÙŠ</h3>
            </div>
            <div class="earnings-stats">
                <div class="stat">
                    <div class="stat-value" id="totalEarnings">$0.00</div>
                    <div class="stat-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­</div>
                </div>
                <div class="stat">
                    <div class="stat-value" id="todayEarnings">$0.00</div>
                    <div class="stat-label">Ø£Ø±Ø¨Ø§Ø­ Ø§Ù„ÙŠÙˆÙ…</div>
                </div>
                <div class="stat">
                    <div class="stat-value" id="totalViews">0</div>
                    <div class="stat-label">Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø§Øª</div>
                </div>
            </div>
        </div>

        <!-- ØªØ¨ÙˆÙŠØ¨Ø§Øª -->
        <div class="tabs">
            <button class="tab active" onclick="showTab('gallery')" id="tab-gallery">Ø§Ù„Ù…Ø¹Ø±Ø¶</button>
            <button class="tab" onclick="showTab('earnings')" id="tab-earnings">Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ø±Ø¨Ø§Ø­</button>
            <button class="tab" onclick="showTab('withdraw')" id="tab-withdraw">Ø³Ø­Ø¨ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­</button>
        </div>

        <!-- Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ø¹Ø±Ø¶ -->
        <div id="content-gallery" class="tab-content active">
            <!-- Ø¥Ø¹Ù„Ø§Ù† ÙÙŠ Ø§Ù„Ù…Ø¹Ø±Ø¶ -->
            <div class="ad-banner" onclick="openAd('banner')">
                <span class="ad-label">Ø¥Ø¹Ù„Ø§Ù†</span>
                <div class="ad-content">
                    <span>ğŸ“¢ Ø§Ø¶ØºØ· Ù‡Ù†Ø§ Ù„Ù…Ø´Ø§Ù‡Ø¯Ø© Ø¥Ø¹Ù„Ø§Ù† ÙˆÙ…Ø¶Ø§Ø¹ÙØ© Ø£Ø±Ø¨Ø§Ø­Ùƒ!</span>
                    <span class="ad-btn">Ø´Ø§Ù‡Ø¯ Ø§Ù„Ø¢Ù† (+$0.50)</span>
                </div>
            </div>

            <input type="file" id="file" multiple accept="image/*" style="display:none" onchange="upload(this)">
            
            <div id="foldersView">
                <h3>ğŸ“ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª</h3>
                <div class="folders" id="folders"></div>
            </div>
            
            <div id="photosView" style="display:none">
                <button class="btn" onclick="back()">â† Ø±Ø¬ÙˆØ¹</button>
                <h3 id="folderTitle"></h3>
                
                <!-- Ø¥Ø¹Ù„Ø§Ù† Ø¨ÙŠÙ† Ø§Ù„ØµÙˆØ± -->
                <div class="ad-banner" style="margin:1rem 0" onclick="openAd('inline')">
                    <span class="ad-label">Ø¥Ø¹Ù„Ø§Ù† Ù…Ù…ÙŠØ²</span>
                    <div class="ad-content">
                        <span>ğŸ¯ Ø¥Ø¹Ù„Ø§Ù† Ù…Ø®ØµØµ - Ø§Ø¶ØºØ· Ù„Ù…Ø´Ø§Ù‡Ø¯Ø© Ø§Ù„Ù…Ø²ÙŠØ¯</span>
                        <span class="ad-btn" style="background:#6366f1">+$0.75</span>
                    </div>
                </div>
                
                <div class="photos" id="photos"></div>
            </div>
        </div>

        <!-- Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ -->
        <div id="content-earnings" class="tab-content">
            <h3>ğŸ“Š Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†</h3>
            <div class="ad-types">
                <div class="ad-type-card" onclick="selectAdType('banner', this)">
                    <div class="ad-type-title">ğŸ“¢ Ø¥Ø¹Ù„Ø§Ù† Ø¨Ø§Ù†Ø±</div>
                    <div class="ad-type-desc">Ø¥Ø¹Ù„Ø§Ù† ØµØºÙŠØ± ÙŠØ¸Ù‡Ø± ÙÙŠ Ø£Ø¹Ù„Ù‰ Ø§Ù„ØµÙØ­Ø©</div>
                    <div class="ad-type-earnings">+$0.50 Ù„ÙƒÙ„ Ù†Ù‚Ø±Ø©</div>
                </div>
                <div class="ad-type-card" onclick="selectAdType('video', this)">
                    <div class="ad-type-title">ğŸ¥ Ø¥Ø¹Ù„Ø§Ù† ÙÙŠØ¯ÙŠÙˆ</div>
                    <div class="ad-type-desc">Ø´Ø§Ù‡Ø¯ ÙÙŠØ¯ÙŠÙˆ Ù‚ØµÙŠØ± Ù„Ù…Ø¯Ø© 30 Ø«Ø§Ù†ÙŠØ©</div>
                    <div class="ad-type-earnings">+$2.00 Ù„ÙƒÙ„ Ù…Ø´Ø§Ù‡Ø¯Ø©</div>
                </div>
                <div class="ad-type-card" onclick="selectAdType('popup', this)">
                    <div class="ad-type-title">ğŸ’¥ Ø¥Ø¹Ù„Ø§Ù† Ù…Ù†Ø¨Ø«Ù‚</div>
                    <div class="ad-type-desc">Ù†Ø§ÙØ°Ø© Ù…Ù†Ø¨Ø«Ù‚Ø© ØªØ¸Ù‡Ø± Ø¹Ù†Ø¯ Ø§Ù„ØªØµÙØ­</div>
                    <div class="ad-type-earnings">+$1.50 Ù„ÙƒÙ„ Ø¸Ù‡ÙˆØ±</div>
                </div>
                <div class="ad-type-card" onclick="selectAdType('reward', this)">
                    <div class="ad-type-title">ğŸ Ø¥Ø¹Ù„Ø§Ù† Ù…ÙƒØ§ÙØ¢Øª</div>
                    <div class="ad-type-desc">Ø£ÙƒÙ…Ù„ Ø§Ù„Ù…Ù‡Ù…Ø© ÙˆØ§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ù…ÙƒØ§ÙØ£Ø©</div>
                    <div class="ad-type-earnings">+$5.00 Ù„ÙƒÙ„ Ø¥ÙƒÙ…Ø§Ù„</div>
                </div>
            </div>

            <button class="btn btn-success" style="width:100%;padding:1rem" onclick="startEarning()">
                ğŸš€ Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø±Ø¨Ø­ Ø§Ù„Ø¢Ù†
            </button>

            <h3 style="margin-top:2rem">ğŸ“ˆ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø£Ø±Ø¨Ø§Ø­</h3>
            <div style="background:#1e293b;padding:1rem;border-radius:12px;margin-top:1rem">
                <div style="display:flex;justify-content:space-between;margin:0.5rem 0">
                    <span>Ù†Ù‚Ø±Ø§Øª Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª:</span>
                    <span id="adClicks">0</span>
                </div>
                <div style="display:flex;justify-content:space-between;margin:0.5rem 0">
                    <span>Ù…Ø´Ø§Ù‡Ø¯Ø§Øª Ø§Ù„ÙÙŠØ¯ÙŠÙˆ:</span>
                    <span id="videoViews">0</span>
                </div>
                <div style="display:flex;justify-content:space-between;margin:0.5rem 0">
                    <span>Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ù…ÙƒØªÙ…Ù„Ø©:</span>
                    <span id="completedAds">0</span>
                </div>
                <div style="display:flex;justify-content:space-between;margin:0.5rem 0;padding-top:0.5rem;border-top:1px solid #334155">
                    <span><b>Ø§Ù„Ù…Ø¹Ø¯Ù„ Ø§Ù„ÙŠÙˆÙ…ÙŠ:</b></span>
                    <span style="color:#10b981" id="dailyRate">$0.00</span>
                </div>
            </div>
        </div>

        <!-- Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø³Ø­Ø¨ -->
        <div id="content-withdraw" class="tab-content">
            <div class="withdraw-section">
                <h3>ğŸ’³ Ø³Ø­Ø¨ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­</h3>
                <p style="color:#94a3b8;margin:0.5rem 0">Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù„Ø³Ø­Ø¨: $10.00</p>
                
                <input type="text" class="withdraw-input" placeholder="Ø§Ø³Ù… ØµØ§Ø­Ø¨ Ø§Ù„Ø­Ø³Ø§Ø¨" id="withdrawName">
                <input type="text" class="withdraw-input" placeholder="Ø±Ù‚Ù… Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© / IBAN" id="withdrawAccount">
                <input type="number" class="withdraw-input" placeholder="Ø§Ù„Ù…Ø¨Ù„Øº (USD)" id="withdrawAmount" max="1000">
                
                <button class="btn btn-success" style="width:100%;margin-top:1rem" onclick="requestWithdraw()">
                    ğŸ’° Ø·Ù„Ø¨ Ø³Ø­Ø¨
                </button>
            </div>

            <h3 style="margin-top:2rem">ğŸ“‹ Ø³Ø¬Ù„ Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª</h3>
            <div id="paymentHistory" style="background:#1e293b;padding:1rem;border-radius:12px;margin-top:1rem">
                <p style="color:#64748b;text-align:center">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¹Ù…Ù„ÙŠØ§Øª Ø³Ø­Ø¨ Ø³Ø§Ø¨Ù‚Ø©</p>
            </div>
        </div>
    </div>

    <!-- Ù†Ø§ÙØ°Ø© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† -->
    <div class="ad-modal" id="adModal">
        <div class="ad-box">
            <h2>ğŸ¬ Ø´Ø§Ù‡Ø¯ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†</h2>
            <p>Ø´Ø§Ù‡Ø¯ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ù„Ù„Ù†Ù‡Ø§ÙŠØ© Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙƒØ§ÙØ£Ø©</p>
            <div class="ad-timer" id="adTimer">30</div>
            <div style="background:#334155;height:4px;border-radius:2px;margin:1rem 0">
                <div style="background:#6366f1;height:100%;width:0%;transition:width 1s" id="adProgress"></div>
            </div>
            <button class="skip-btn" id="skipBtn" disabled onclick="completeAd()">
                ØªØ®Ø·ÙŠ (<span id="skipCount">30</span>)
            </button>
        </div>
    </div>

    <!-- Modals -->
    <div class="modal" id="folderModal">
        <div class="modal-content">
            <h3>Ù…Ø¬Ù…ÙˆØ¹Ø© Ø¬Ø¯ÙŠØ¯Ø©</h3>
            <input type="text" class="input" id="folderName" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©">
            <button class="btn" onclick="createFolder()" style="width:100%">Ø¥Ù†Ø´Ø§Ø¡</button>
            <button class="btn" onclick="hideModal()" style="width:100%;margin-top:0.5rem;background:#334155">Ø¥Ù„ØºØ§Ø¡</button>
        </div>
    </div>

    <div class="lightbox" id="lightbox" onclick="this.classList.remove('active')">
        <button class="close" onclick="hideLightbox()">Ã—</button>
        <img id="lightboxImg" src="">
    </div>

    <script>
        // Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        let folders=JSON.parse(localStorage.getItem('folders')||'[]');
        let photos=JSON.parse(localStorage.getItem('photos')||'[]');
        let earnings=JSON.parse(localStorage.getItem('earnings')||'{"total":0,"today":0,"views":0,"clicks":0,"videoViews":0,"completed":0}');
        let currentFolder=null;
        let selectedAdType='';
        let adTimer=null;

        // Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        function save(){
            localStorage.setItem('folders',JSON.stringify(folders));
            localStorage.setItem('photos',JSON.stringify(photos));
            localStorage.setItem('earnings',JSON.stringify(earnings));
            updateEarningsDisplay();
        }

        // ØªØ­Ø¯ÙŠØ« Ø¹Ø±Ø¶ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­
        function updateEarningsDisplay(){
            document.getElementById('totalEarnings').textContent='$'+earnings.total.toFixed(2);
            document.getElementById('todayEarnings').textContent='$'+earnings.today.toFixed(2);
            document.getElementById('totalViews').textContent=earnings.views;
            document.getElementById('adClicks').textContent=earnings.clicks;
            document.getElementById('videoViews').textContent=earnings.videoViews;
            document.getElementById('completedAds').textContent=earnings.completed;
            document.getElementById('dailyRate').textContent='$'+(earnings.today/((new Date().getHours())||1)).toFixed(2)+'/Ø³Ø§Ø¹Ø©';
        }

        // Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª
        function showTab(tab){
            document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(c=>c.classList.remove('active'));
            document.getElementById('tab-'+tab).classList.add('active');
            document.getElementById('content-'+tab).classList.add('active');
        }

        // Ø§Ø®ØªÙŠØ§Ø± Ù†ÙˆØ¹ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†
        function selectAdType(type,element){
            selectedAdType=type;
            document.querySelectorAll('.ad-type-card').forEach(c=>c.classList.remove('active'));
            element.classList.add('active');
        }

        // Ø¨Ø¯Ø¡ Ø§Ù„Ø±Ø¨Ø­
        function startEarning(){
            if(!selectedAdType)return alert('Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ø£ÙˆÙ„Ø§Ù‹');
            openAd(selectedAdType);
        }

        // ÙØªØ­ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†
        function openAd(type){
            const modal=document.getElementById('adModal');
            const timerEl=document.getElementById('adTimer');
            const skipBtn=document.getElementById('skipBtn');
            const skipCount=document.getElementById('skipCount');
            const progress=document.getElementById('adProgress');
            
            let time=type==='video'?30:15;
            modal.classList.add('active');
            timerEl.textContent=time;
            skipBtn.disabled=true;
            progress.style.width='0%';
            
            let elapsed=0;
            adTimer=setInterval(()=>{
                elapsed++;
                time--;
                timerEl.textContent=time;
                skipCount.textContent=time;
                progress.style.width=((elapsed/30)*100)+'%';
                
                if(time<=0){
                    clearInterval(adTimer);
                    skipBtn.disabled=false;
                    skipBtn.textContent='Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙƒØ§ÙØ£Ø© âœ…';
                    skipBtn.style.background='#10b981';
                }
            },1000);
        }

        // Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†
        function completeAd(){
            clearInterval(adTimer);
            document.getElementById('adModal').classList.remove('active');
            
            let reward=0;
            switch(selectedAdType){
                case 'banner':reward=0.50;earnings.clicks++;break;
                case 'video':reward=2.00;earnings.videoViews++;break;
                case 'popup':reward=1.50;break;
                case 'reward':reward=5.00;earnings.completed++;break;
                default:reward=0.50;
            }
            
            earnings.total+=reward;
            earnings.today+=reward;
            earnings.views++;
            save();
            
            alert('ğŸ‰ Ø±Ø¨Ø­Øª $'+reward.toFixed(2)+'!');
            document.getElementById('skipBtn').textContent='ØªØ®Ø·ÙŠ (30)';
            document.getElementById('skipBtn').style.background='#334155';
        }

        // Ø·Ù„Ø¨ Ø³Ø­Ø¨
        function requestWithdraw(){
            const amount=parseFloat(document.getElementById('withdrawAmount').value);
            const name=document.getElementById('withdrawName').value;
            const account=document.getElementById('withdrawAccount').value;
            
            if(!name||!account)return alert('Ø£ÙƒÙ…Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');
            if(amount<10)return alert('Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ $10');
            if(amount>earnings.total)return alert('Ø±ØµÙŠØ¯ ØºÙŠØ± ÙƒØ§ÙÙ');
            
            earnings.total-=amount;
            save();
            
            const history=document.getElementById('paymentHistory');
            const date=new Date().toLocaleDateString('ar-SA');
            history.innerHTML=`<div style="padding:0.5rem;border-bottom:1px solid #334155">
                <div style="display:flex;justify-content:space-between">
                    <span>Ø³Ø­Ø¨ Ø¥Ù„Ù‰ ${account.slice(-4)}</span>
                    <span style="color:#ef4444">-$${amount}</span>
                </div>
                <small style="color:#64748b">${date} - ${name}</small>
            </div>`+history.innerHTML;
            
            alert('âœ… ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ Ø§Ù„Ø³Ø­Ø¨ Ø¨Ù†Ø¬Ø§Ø­!');
            document.getElementById('withdrawAmount').value='';
        }

        // Ø§Ù„Ù…Ø¹Ø±Ø¶ (Ù†ÙØ³ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø³Ø§Ø¨Ù‚)
        function renderFolders(){
            const el=document.getElementById('folders');
            if(folders.length===0){el.innerHTML='<p style="grid-column:1/-1;color:#64748b">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø¬Ù…ÙˆØ¹Ø§Øª</p>';return}
            el.innerHTML=folders.map(f=>{
                const count=photos.filter(p=>p.folder===f.id).length;
                return`<div class="folder" onclick="openFolder('${f.id}')"><div class="folder-icon">ğŸ“</div><div><b>${f.name}</b><br><small>${count} ØµÙˆØ±Ø©</small></div></div>`
            }).join('')
        }

        function showFolderModal(){document.getElementById('folderModal').classList.add('active')}
        function hideModal(){document.getElementById('folderModal').classList.remove('active')}
        
        function createFolder(){
            const name=document.getElementById('folderName').value.trim();
            if(!name)return alert('Ø£Ø¯Ø®Ù„ Ø§Ù„Ø§Ø³Ù…');
            folders.push({id:Date.now().toString(),name});
            save();renderFolders();hideModal();
            document.getElementById('folderName').value='';
        }

        function openFolder(id){
            currentFolder=id;
            document.getElementById('foldersView').style.display='none';
            document.getElementById('photosView').style.display='block';
            document.getElementById('folderTitle').innerText=folders.find(f=>f.id===id)?.name||'';
            renderPhotos();
            earnings.views++;
            save();
        }

        function back(){currentFolder=null;document.getElementById('foldersView').style.display='block';document.getElementById('photosView').style.display='none'}

        function renderPhotos(){
            const folderPhotos=photos.filter(p=>p.folder===currentFolder);
            const el=document.getElementById('photos');
            if(folderPhotos.length===0){el.innerHTML='<p style="color:#64748b">Ù„Ø§ ØªÙˆØ¬Ø¯ ØµÙˆØ±</p>';return}
            el.innerHTML=folderPhotos.map((p,i)=>`<div class="photo" onclick="showLightbox(${i})"><img src="${p.src}"><div class="photo-overlay"><button class="view-btn" onclick="event.stopPropagation();openAd('popup')">ğŸ‘ï¸ Ù…Ø´Ø§Ù‡Ø¯Ø© (+$0.10)</button></div></div>`).join('');
        }

        function upload(input){
            if(!currentFolder){if(!confirm('Ù„Ù… ØªØ®ØªØ± Ù…Ø¬Ù…ÙˆØ¹Ø©. Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§ÙØªØ±Ø§Ø¶ÙŠØ©ØŸ'))return;createDefaultFolder()}
            Array.from(input.files).forEach(file=>{
                if(!file.type.startsWith('image/'))return;
                const reader=new FileReader();
                reader.onload=e=>{photos.push({id:Date.now(),folder:currentFolder,src:e.target.result});save();renderPhotos()};
                reader.readAsDataURL(file);
            });
        }

        function createDefaultFolder(){const id=Date.now().toString();folders.push({id,name:'Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§ÙØªØ±Ø§Ø¶ÙŠØ©'});currentFolder=id;save();renderFolders();openFolder(id)}

        function showLightbox(idx){
            const folderPhotos=photos.filter(p=>p.folder===currentFolder);
            document.getElementById('lightboxImg').src=folderPhotos[idx].src;
            document.getElementById('lightbox').classList.add('active');
            earnings.views++;
            save();
        }

        function hideLightbox(){document.getElementById('lightbox').classList.remove('active')}

        // ØªÙ‡ÙŠØ¦Ø©
        updateEarningsDisplay();
        renderFolders();
        
        // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ Ø§Ù„ÙŠÙˆÙ…ÙŠØ©
        const lastReset=localStorage.getItem('lastReset');
        const today=new Date().toDateString();
        if(lastReset!==today){
            earnings.today=0;
            localStorage.setItem('lastReset',today);
            save();
        }
    </script>
</body>
</html>
